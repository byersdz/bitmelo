{
  "_id": "5e6ec15503e08617f0babdd7",
  "sounds": [
    {
      "volumeTics": [
        9,
        9,
        0,
        0,
        14,
        14,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        14,
        14,
        0,
        0,
        10,
        10,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "pitchTics": [
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "arpTics": [
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        -2,
        -2,
        -2,
        -2,
        -2,
        -2,
        -2,
        -2,
        -2,
        -2,
        -2,
        -2,
        -2,
        -2,
        -2,
        -2,
        -2
      ],
      "_id": "5e6ec18803e08617f0babe21",
      "pitchScale": 100,
      "wave": 2,
      "useVolumeLoop": true,
      "volumeLoopStart": 0,
      "volumeLoopEnd": 31,
      "usePitchLoop": false,
      "pitchLoopStart": 0,
      "pitchLoopEnd": 31,
      "useArpLoop": true,
      "arpLoopStart": 0,
      "arpLoopEnd": 31,
      "name": "walk",
      "releaseLength": 1,
      "releaseMode": "linear"
    },
    {
      "volumeTics": [
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15,
        15
      ],
      "pitchTics": [
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0
      ],
      "arpTics": [
        0,
        0,
        0,
        0,
        1,
        1,
        1,
        1,
        3,
        3,
        3,
        3,
        5,
        5,
        5,
        5,
        7,
        7,
        7,
        7,
        9,
        9,
        9,
        9,
        11,
        11,
        11,
        11,
        8,
        8,
        8,
        8
      ],
      "_id": "5e6ec18803e08617f0babe20",
      "pitchScale": 100,
      "wave": 2,
      "useVolumeLoop": false,
      "volumeLoopStart": 0,
      "volumeLoopEnd": 31,
      "usePitchLoop": false,
      "pitchLoopStart": 0,
      "pitchLoopEnd": 31,
      "useArpLoop": false,
      "arpLoopStart": 0,
      "arpLoopEnd": 31,
      "name": "pickup",
      "releaseLength": 10,
      "releaseMode": "linear"
    }
  ],
  "tilesets": [
    {
      "layers": [
        {
          "_id": "5e6ec18803e08617f0babe23",
          "isVisible": true,
          "data": "CwGgDCoIwjHSA7OStbPmgHFlBmNOEAmATn0JQQ1RiJJFIggCZaU3ojO0IHy+lVqlLd2wrh3EgeUMQgmNmMkADYRK9TTbqC5HjpC5h6mKD1p1WAZbTJQ5GKaQuITuyACsjWzGTHfFwcPaxR1chtkR2VwpTCfKBiEpIjlZFiIdJ9MtSMAw2RCqS0XbVyirBp3NmQ6Yhc6v1dbGsoCWsoit1zWuvbKJqx1brr1XrR+xpdhgZ6XXDMUKbGGidW6-xnFuTRQbuhu733YOqw9+tAFryXFo4ujbBnyUBpn5recFHtsoJ-v4BYLACwAWbCwyhBsDBENBRmUsMk0Fk22RtFRSNoKLhFCgbG8O1A3kR12JRJOqDJOwI+NgBAx4JxbDoTW8BDG5BpUDpUOxglxhBZ9XU3hpY2phG5-IZfKZ5OQrNyOwVsWV9U5kuhVB5zJkEFVHKFFIl9SlEO15Jg3kMUHlhsS10MhONJE1mH5OstmmIwudPOlaIFsBFXsB1zoBBdvJNsp2UB91vF7lt4YD-sjOp97jwesC6tTynT5LwBpT9IL5qpJdpAbwbD1TJjMGLYerkdr11qeOrLAx+JIdEbLituWDhkzivHXOjsAN1s9pjYTO5HSnvdbPL7YcX1Zexvt7rlDtyTtApnFbJHvv5Tov-OHpk9+O3U6aoFlK4jFeX09Lv35S48N8PBTRxBynMkzyPEo80jG8emDJ892mFRXx5ICMXQr8PBWQYKxgLs5ygmQu1-a9rgvFgEKwppkFkAwA0wg8X1KFRYR1LsLzwJ1SLYdtgyYhgijo1BhMYmNBJcME8JUe8ZyIpUWhbVceR7IifQXDxaIYlQMJk80hIeJj8PFa0c1vJSNRkJ0x2uDSaJQySHO5d8VFlZyPAINzNJUUDAzwUc5hg7Uc0MFgczs1YeC0lzn3uGKnJEjyEqafDUGihJB2bIL3RCnpwpU34XNS3TRL0-9CuAnzpKgYMKM9FM2y7CKshckrtJIlycJcXyMyI206os6c+MVTqHO+MjSo67CxsMwdbUMXBRUvQwAvUSdLJI3IDVqBgdkW2xxU7OYNO3E6VCOlYevJVTZPHNbBoxO9jQi2MuwRVzEKA-cwO4npfuU91NqnF6B2uNj6n6SjzU-Wo3EyqsAYbQaQY3EaUIYTyZpYSMAKbVzgNBnUsqvJG8xRp6zuYzGYpx6s8di2pCYtKtINk-7P0B5Hqq7I6UyaanHrplxMdewNNtMWq0bZwb0yB28wLe-T6kXRD+ZQpnY1nRV9oa7VFZ2O7rm8cHkGp1XhZQuHA320KEcs4aTeVmRzdNy3pJtnpxcvHijQo4NwepjwoYPQOUqtom7e01Uoe8SmMfqWjaaphPYHDotyMVXKxnqndUdkmO0dxp2aYK5OGYtQcOMz+Sves3JE3Xf8s9TjtqOLoPBbLmbRaJltTBZlvZIbqdZb7ocvXtY2lbN6f1ek4ndc52SoH2x2Z4PV2mQ1vHKW5XejWgPfaCPw+AxYH1OLB2eVeviu-NzsjEeP7Sn9P2FDbCojxTXj7b88RCHbQ3xk0YOXly7-x5IAkOKdQFrH6BA-kUCwFY3NqHFipovhtzQbRVBwD0GukLkLTeW4wwcxIomZ8ElMZHX9IhACrQRZ-nEmlH8udxqUPOk7JoGlaFtw6K1GagtiFCKdp3CSqVUIuUQrwgSlUvLDhEZjRROk+FoHkWVAhzU1FrHLtuZRwk1ZTRSglXRGioxaO3AwlRG9RF-yVpYi2U1-RaK0iA5Kjig7uOIYYtY9knFJBscVRy8UvI+LcaEjxYSTSRRYduaRATtzfCKtYlySi7HlSSXIkhzilZdXYUlAxHiXZzEFBgiAWi8kBh8fokh3CZrxMwfyFYZ1rQOIuhPAh70b4TQaAQyEZTICwmxvEcCRB+mLgICMbkOFqQQg1vLKySwhYrA6M4cCyhP5GV1FhE6dwsxDjGaDEgG1zj7PlHWSASMAKPRsKABAughyTOILzOm4cAiLGCPReUTy8AvJfG8ig5BzL6ApE8lgfz3CPxIACwQbxLoqM8PQOhdNCb5DmEC48CQKQQiRimVWaKHkgp9I4VAwBblXIfkyAl5JnjkrQt2bUNhYinjQByZQUAro7GGeVEeKllDeDhayrwMIVIXIsBeTwFzxm8iAA",
          "format": "rc"
        }
      ],
      "_id": "5e6ec18803e08617f0babe22",
      "width": 8,
      "height": 8
    }
  ],
  "tilemaps": [
    {
      "layers": [
        {
          "_id": "5e6ec18803e08617f0babe25",
          "isVisible": true,
          "data": "IwGgzGLADOAsVwFZF1AJhEg7CTSAOcLXUJATjxNUlDRADZqyjIcbVQzStKn2MRUGFh1aIeoKrpKw2AgESEdJmM6Iwq8DzCyJTNj0KIKJnnHGSlqFCpNDeWZhMuzYSUVmBA",
          "format": "rc"
        }
      ],
      "_id": "5e6ec18803e08617f0babe24",
      "name": "untitled",
      "width": 12,
      "height": 8
    }
  ],
  "dateCreated": "2020-03-15T23:59:17.018Z",
  "dateUpdated": "2020-03-16T00:00:08.532Z",
  "connectedProject": "5e6ec14503e08617f0babdba",
  "user": "5e4c88490450551f7c7262e6",
  "urlName": "welcome",
  "palette": {
    "colors": [
      "000000",
      "0b0711",
      "eaf2de",
      "766e76",
      "561f6e",
      "7d4f31",
      "e98c49",
      "fbc0a0",
      "f681b2",
      "d83232",
      "e3e962",
      "65cf57",
      "2ba957",
      "187575",
      "1e2cB0",
      "2379e5",
      "95cae5"
    ],
    "_id": "5e6ec18803e08617f0babe26"
  },
  "code": {
    "_id": "5e6ec18803e08617f0babe27",
    "scripts": [
      {
        "_id": "5e6ec18803e08617f0babe1f",
        "text": "\n// Globals\nlet inp = null; // input\nlet scr = null; // screen\nlet aud = null; // audio\n\nconst player = {\n\tx: 90,\n\ty: 30,\n\tspeed: 0.5,\n\tisWalking: false,\n\tflip: 0,\n\tframesSinceWalkStart: 0\n}\n\nconst mushrooms = [\n\t{  \n\t\tx: 36,\n\t\ty: 30,\n\t\twasGrabbed: false\n\t},\n\t{  \n\t\tx: 130,\n\t\ty: 70,\n\t\twasGrabbed: false\n\t}\n];\n\nlet numberOfGrabbedMushrooms = 0;\n\nlet randomColor = 1;\n\n// initialization\nengine.onInit = () => {\n\tinp = engine.input;\n\tscr = engine.screen;\n\taud = engine.audio;\n\t\n\tupdateColors();\n};\n\n\n// update loop\nengine.onUpdate = () => {\n  scr.clear( 1 );\n\n\tscr.drawMap(\n\t  0,      // originX on map\n\t  0,      // originY on map\n\t  -1,     // width\n\t  -1,     // height\n\t  0,      // screenX\n\t  0,      // screenY\n\t  0       // tilemap index\n\t);\n\t\n\tdrawMushrooms();\n\t\n\tupdatePlayer();\n\t\n\tlet textMainColor = 2;\n\tif ( numberOfGrabbedMushrooms > 0 ) {\n\t\ttextMainColor = randomColor;\n\t}\n\t\n\tlet textPositionOffset = 0;\n\tif ( numberOfGrabbedMushrooms > 1 ) {\n\t\ttextPositionOffset = Math.sin( engine.realTimeSinceGameStart * 10 ) * 8;\n\t}\n\t\n\tscr.drawText(\n\t\t'Welcome to Bitmelo!',\n\t\t50,\n\t\t90 + Math.floor( textPositionOffset ),\n\t\ttextMainColor,\n\t\t1,\n\t\t0\n\t);\n};\n\nfunction drawMushrooms() {\n\tmushrooms.forEach( mushroom => {\n\t\tif ( !mushroom.wasGrabbed ) {\n\t\t\tscr.drawTile(\n\t\t\t\t61,\n\t\t\t\tmushroom.x - 8, // center on the position\n\t\t\t\tmushroom.y - 8, // center on the position\n\t\t\t\t0\n\t\t\t);\n\t\t}\n\t} );\n}\n\nfunction updatePlayer() {\n\tlet newX = player.x;\n\tlet newY = player.y;\n\t\n\tlet isWalking = false;\n\tif ( inp.left.pressed ) {\n\t\tnewX -= player.speed;\n\t\tisWalking = true;\n\t\tplayer.flip = 1;\n\t}\n\telse if ( inp.right.pressed ) {\n\t\tnewX += player.speed;\n\t\tisWalking = true;\n\t\tplayer.flip = 0;\n\t}\n\t\n\tif ( inp.down.pressed ) {\n\t\tnewY -= player.speed;\n\t\tisWalking = true;\n\t}\n\telse if ( inp.up.pressed ) {\n\t\tnewY += player.speed;\n\t\tisWalking = true;\n\t}\n\t\n\tif ( isWalking ) {\n\t\tplayer.framesSinceWalkStart += 1;\n\t}\n\t\n\t// play or stop audio\n\tif ( isWalking && !player.isWalking ) {\n\t\t// started walking\n\t\tplayer.framesSinceWalkStart = 0;\n\t\t\n\t\tlet note = bitmelo.Notes.C4;\n\t\tif ( numberOfGrabbedMushrooms > 1 ) {\n\t\t\tnote = bitmelo.Notes.C2;\n\t\t}\n\t\telse if ( numberOfGrabbedMushrooms > 0 ) {\n\t\t\tnote = bitmelo.Notes.C3;\n\t\t}\n\t\t\n\t\taud.playInfiniteSound(\n\t\t\t0,\n\t\t\tnote,\n\t\t\t0.5,\n\t\t\t2\n\t\t);\n\t}\n\telse if ( !isWalking && player.isWalking ) {\n\t\t// stopped walking\n\t\taud.stopInfiniteSound( 0 );\n\t}\n\t\n\tplayer.isWalking = isWalking;\n\t\n\t// make sure we are not colliding with the fence\n\tif ( \n\t\tnewX >= 16\n\t\t&& newX < scr.width - 16\n\t\t&& newY >= 24\n\t\t&& newY < scr.height - 16\n\t) {\n\t\tplayer.x = newX;\n\t\tplayer.y = newY;\n\t}\n\t\n\t// check mushroom collisions\n\tfor ( let i = 0; i < mushrooms.length; i += 1 ) {\n\t\tconst mushroom = mushrooms[i];\n\t\tif ( !mushroom.wasGrabbed ) {\n\t\t\tconst deltaX = Math.abs( player.x - mushroom.x );\n\t\t\tconst deltaY= Math.abs( player.y - mushroom.y );\n\t\t\tconst distance = Math.sqrt( deltaX * deltaX + deltaY * deltaY );\n\t\t\t\n\t\t\t// player has grabbed a mushroom\n\t\t\tif ( distance <= 12 ) {\n\t\t\t\tmushroom.wasGrabbed = true;\n\t\t\t\tnumberOfGrabbedMushrooms += 1;\n\t\t\t\t\n\t\t\t\taud.playSound(\n\t\t\t\t\t1,\n\t\t\t\t\tbitmelo.Notes.E3,\n\t\t\t\t\t48,\n\t\t\t\t\t0.25,\n\t\t\t\t\t1\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t// draw the player\n\tlet frameGID = 1;\n\tif ( player.isWalking ) {\n\t\tif ( player.framesSinceWalkStart % 16 < 8 ) {\n\t\t\tframeGID = 2;\n\t\t}\n\t\telse {\n\t\t\tframeGID = 3;\n\t\t}\n\t}\n\t\n\tscr.drawTile(\n\t\tframeGID,\n\t\tMath.floor( player.x ) - 8, // center the tile on the position\n\t\tMath.floor( player.y ) - 8, // center the tile on the position\n\t\tplayer.flip\n\t);\n}\n\nfunction updateColors() {\n\trandomColor = Math.floor( Math.random() * 16 ) + 1;\n\tsetTimeout( updateColors, 100 );\n}\n\n\n\n\n\n\n\n\n\n\n\n"
      }
    ]
  },
  "project": {
    "_id": "5e6ec18803e08617f0babe28",
    "tileSize": 16,
    "name": "Welcome",
    "screen": {
      "_id": "5e6ec18803e08617f0babe29",
      "width": 192,
      "height": 128,
      "scaleMode": 1,
      "scale": 3,
      "minScale": 1,
      "maxScale": 4,
      "horizontalScaleCushion": 10,
      "verticalScaleCushion": 10,
      "rescaleOnWindowResize": true
    },
    "misc": {
      "_id": "5e6ec18803e08617f0babe2a",
      "hideCursor": false,
      "clickToBegin": true,
      "startTransitionFrames": 60
    },
    "editorVersion": "1.3.1"
  },
  "__v": 2,
  "format": "transfer"
}
